/*! For license information please see UsersShow.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[115],{4704:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(7897),a=n.n(s),i=n(1519),r=n.n(i)()(a());r.push([e.id,".match-cards{display:grid;gap:40px;grid-auto-flow:dense;grid-auto-rows:minmax(min-content,max-content);grid-template-columns:repeat(auto-fill,minmax(300px,1fr));line-break:strict;padding:1rem;transition:all .5s;width:100%!important}.vs-card-content{margin:0 auto!important;width:-moz-fit-content!important;width:fit-content!important}.vs-input{width:100%}.template-modal{border-radius:15px}.template-modal-header{border:none}.list-enter-active,.list-leave-active,.list-move{transition:all .5s ease}.list-enter-from,.list-leave-to{opacity:0;transform:translateX(30px)}.list-leave-active{position:absolute}.vs-notification{height:-moz-fit-content!important;height:fit-content!important}","",{version:3,sources:["webpack://./resources/js/components/users/show.vue"],names:[],mappings:"AAy1BA,aACA,YAAA,CACA,QAAA,CACA,oBAAA,CACA,8CAAA,CACA,yDAAA,CACA,iBAAA,CAEA,YAAA,CADA,kBAAA,CAEA,oBACA,CAEA,iBAEA,uBAAA,CADA,gCAAA,CAAA,2BAEA,CAEA,UACA,UACA,CAEA,gBACA,kBACA,CAEA,uBACA,WACA,CAEA,iDAGA,uBACA,CAEA,gCAEA,SAAA,CACA,0BACA,CAEA,mBACA,iBACA,CAEA,iBACA,iCAAA,CAAA,4BACA",sourcesContent:['<template>\n    <div class="shadow-sm p-2 bg-white" style="border-radius: 15px; height: fit-content !important">\n        <h4>\n            <i class="fa-duotone fa-elephant"></i>\n            Sheems Users\n        </h4>\n        \x3c!-- Nav --\x3e\n        <div class="d-flex flex-row justify-content-between mt-5">\n            <div class="d-flex flex-row gap-2 ">\n\n                <vs-button style="max-width: fit-content" @click="$router.push({ query: {} })" dark flat\n                    :active="Object.keys($route.query).length === 0">\n                    <h6 class="fw-bold m-0">\n                        <i class="fa-duotone fa-timer"></i>\n                        <span class="p-1"> All </span>\n                    </h6>\n                </vs-button>\n                <vs-button style="max-width: fit-content" @click="$router.push({ query: { type: \'keyboardists\' } })"\n                    :active="$route.query.type === \'keyboardists\'" dark flat>\n                    <h6 class="fw-bold m-0">\n                        <i class="fa-duotone fa-piano-keyboard"></i>\n                        <span class="p-1 d-none d-md-inline"> Keyboardists </span>\n                    </h6>\n                </vs-button>\n                <vs-button style="max-width: fit-content" @click="$router.push({ query: { type: \'violinists\' } })"\n                    :active="$route.query.type === \'violinists\'" dark flat>\n                    <h6 class="fw-bold m-0">\n                        <i class="fa-duotone fa-violin"></i>\n                        <span class="p-1 d-none d-md-inline"> Violinists </span>\n                    </h6>\n                </vs-button>\n                <vs-button style="max-width: fit-content" @click="$router.push({ query: { type: \'worship-leaders\' } })"\n                    :active="$route.query.type === \'worship-leaders\'" dark flat>\n                    <h6 class="fw-bold m-0">\n                        <i class="fa-duotone fa-microphone-stand"></i>\n                        <span class="p-1 d-none d-md-inline"> Worship Leaders </span>\n                    </h6>\n                </vs-button>\n            </div>\n            <div>\n                <vs-button style="max-width: fit-content" @click="$bvModal.show(\'user-modal\')" warn flat>\n                    <h6 class="fw-bold m-0">\n                        <i class="fa-duotone fa-person-circle-plus"></i>\n                        <span class="p-1 d-none d-md-inline"> Create User </span>\n                    </h6>\n                </vs-button>\n            </div>\n        </div>\n\n        \x3c!-- Search --\x3e\n        <div class="my-4">\n            <search></search>\n        </div>\n        <div v-if="loading" class="d-flex flex-row justify-content-center align-items-center p-2 m-2">\n            <div class="spinner-border spinner-border-sm" role="status" style="height: 30px; width: 30px">\n                <span class="visually-hidden">Loading...</span>\n            </div>\n        </div>\n        <transition-group v-else tag="ul" name="list" class="match-cards list-unstyled">\n            <li v-for="user in allUsers" :key="user.id">\n                <vs-card>\n                    <template #title>\n                        <div class="d-flex flex-row align-items-center gap-1">\n                            <span v-if="user.title > 0" class="badge bg-secondary p-1" style="font-size: smaller">\n                                {{ titles[user.title] }}\n                            </span>\n                            <span v-if="user.shift_leader" class="badge bg-dark p-1" style="font-size: smaller">\n                                Shift Leader\n                            </span>\n                            <span class="d-flex flex-row align-items-center gap-1" v-b-tooltip.hover\n                                title="Data Analyst" v-if="user.type === 0">\n                                <span> &bull; </span>\n                                <i class="fa-duotone fa-face-glasses h5 m-0"></i>\n                            </span>\n                            <span class="d-flex flex-row align-items-center gap-1" v-b-tooltip.hover.top\n                                title="Keyboardist" v-else-if="user.type === 1">\n                                <span> &bull; </span>\n                                <i class="fa-duotone fa-piano-keyboard h5 m-0"></i>\n                            </span>\n                            <span class="d-flex flex-row align-items-center gap-1" v-b-tooltip.hover\n                                title="Worship Leader" v-else-if="user.type === 2">\n                                <span> &bull; </span>\n                                <i class="fa-duotone fa-microphone-stand h5 m-0"></i>\n                            </span>\n                            <span class="d-flex flex-row align-items-center gap-1" v-b-tooltip.hover title="Violinists"\n                                v-else-if="user.type === 3">\n                                <span> &bull; </span>\n                                <i class="fa-duotone fa-violin h5 m-0"></i>\n                            </span>\n                        </div>\n                        <h3 class="mt-2">\n                            {{ user.name }}\n                        </h3>\n                    </template>\n                    <template #img>\n                        <b-img v-if="user.profile.includes(\'default.png\')"\n                            :src="`https://avatars.dicebear.com/api/identicon/${user.name.split(\' \')[0]}.svg`"\n                            :alt="`${user.name}\'s profile picture`"></b-img>\n                        <b-img v-else :src="`../../../../storage/profile/${user.profile}`"\n                            :alt="`${user.profile} profile picture`"></b-img>\n                    </template>\n                    <template #text>\n                        <p>\n                            <span>{{ user.from }}</span>\n                            <span> &bull;</span>\n                            <span>{{ user.phone_number }}</span>\n                            <span> &bull;</span>\n                            <span>{{\n        allShifts["keyboardists"].find(\n            (shift) => shift.id === user.shift_id\n        ).name\n}}</span>\n                        </p>\n                        <div class="mt-3" v-if="\n    ongoingShifts.keyboardists ||\n    ongoingShifts.worship_leaders ||\n    ongoingShifts.violinists\n">\n                            <vs-button dark icon v-if="showAction(user, false)" @click="checkOutUser(user.id)">\n                                <h5 class="m-0 d-flex flex-row justify-content-center gap-2">\n                                    <i class="fa-duotone fa-lightbulb-cfl text-warning fa-shake"></i>\n                                    <span class="h6 m-0"> Check Out </span>\n                                </h5>\n                            </vs-button>\n                            <vs-button dark icon v-if="showAction(user)" @click="checkInUser(user.id)">\n                                <h5 class="m-0 d-flex flex-row justify-content-center gap-2">\n                                    <i class="fa-duotone fa-lightbulb-cfl-on text-warning fa-fade"></i>\n                                    <span class="h6 m-0"> Check In </span>\n                                </h5>\n                            </vs-button>\n                        </div>\n                    </template>\n                    <template #interactions>\n                        <vs-button danger icon @click="editDetails(user)">\n                            <i class="fa-duotone fa-pen h5 m-0"></i>\n                        </vs-button>\n                        <vs-button danger icon v-if="user.type !== 0" @click="showAttendanceUser(user.id)">\n                            <i class="fa-duotone fa-eye h5 m-0"></i>\n                        </vs-button>\n                    </template>\n                </vs-card>\n            </li>\n        </transition-group>\n        <div v-if="allUsers.length === 0" class="p-2 m-1 rounded-3 bg-light">\n            <div class="d-flex flex-row flex-wrap gap-1 align-items-center">\n                <span>\n                    <i class="fa-duotone fa-face-sad-tear fa-3x text-danger"></i>\n                </span>\n                <span class="h5 m-0">\n                    We could not find any matches for your search.\n                </span>\n            </div>\n        </div>\n        \x3c!-- Show attendance modal --\x3e\n        <b-modal id="attendance-modal" size="lg" scrollable centered hide-footer hide-header\n            content-class="template-modal" header-class="template-modal-header">\n            <div class="d-flex flex-row justify-content-end" style="position: sticky; top: 0; z-index: 20">\n                <vs-button danger icon circle @click="hideAttendances()">\n                    <i class="fa-duotone fa-times-circle h5 m-0"></i>\n                </vs-button>\n            </div>\n            <div v-if="Object.keys(attendanceUser).length > 0">\n                \x3c!-- <h3 class="font-monospace">{{ attendanceUser.name }}\'s Attendance History</h3> --\x3e\n                <div>\n                    <b-avatar v-if="attendanceUser.profile.includes(\'default.png\')" size="100"\n                        :src="`https://avatars.dicebear.com/api/identicon/${attendanceUser.name.split(\' \')[0]}.svg`"\n                        :alt="`${attendanceUser.name}\'s profile picture`"></b-avatar>\n                    <b-avatar v-else size="100" :src="`../../../../storage/profile/${attendanceUser.profile}`"\n                        :alt="`${attendanceUser.profile} profile picture`"></b-avatar>\n                    <p class="mt-2 mb-0 d-flex flex-row gap-1 align-items-center">\n                        <span v-if="attendanceUser.title > 0" class="badge bg-secondary p-1" style="font-size: smaller">\n                            {{ titles[attendanceUser.title] }}\n                        </span>\n                        <span v-if="attendanceUser.shift_leader" class="badge bg-dark p-1" style="font-size: smaller">\n                            Shift Leader\n                        </span>\n                        <span class="d-flex flex-row align-items-center gap-1" v-b-tooltip.hover title="Data Analyst"\n                            v-if="attendanceUser.type === 0">\n                            <span> &bull; </span>\n                            <i class="fa-duotone fa-face-glasses h5 m-0"></i>\n                        </span>\n                        <span class="d-flex flex-row align-items-center gap-1" v-b-tooltip.hover.top title="Keyboardist"\n                            v-else-if="attendanceUser.type === 1">\n                            <span> &bull; </span>\n                            <i class="fa-duotone fa-piano-keyboard h5 m-0"></i>\n                        </span>\n                        <span class="d-flex flex-row align-items-center gap-1" v-b-tooltip.hover title="Worship Leader"\n                            v-else-if="attendanceUser.type === 2">\n                            <span> &bull; </span>\n                            <i class="fa-duotone fa-microphone-stand h5 m-0"></i>\n                        </span>\n                        <span class="d-flex flex-row align-items-center gap-1" v-b-tooltip.hover title="Violinists"\n                            v-else-if="attendanceUser.type === 3">\n                            <span> &bull; </span>\n                            <i class="fa-duotone fa-violin h5 m-0"></i>\n                        </span>\n                    </p>\n                    <span class="h3 m-0 mt-2 fw-bold d-block">\n                        {{ attendanceUser.name }}\n                    </span>\n                    <p>\n                        <span>{{ attendanceUser.from }}</span>\n                        <span> &bull;</span>\n                        <span>{{ attendanceUser.phone_number }}</span>\n                    </p>\n                    <hr />\n                    <p class="h5 fw-bold text-muted">\n                        <i class="fa-duotone fa-clock-rotate-left"></i>\n                        Attendance History\n                    </p>\n                </div>\n                <div v-if="attendanceUser.sessions.length === 0">\n                    This shift has had no sessions yet\n                </div>\n                <div class="rounded-3 bg-light p-2 my-2" v-for="session in attendanceUser.sessions" :key="session.id">\n                    <span>\n                        {{ formatTime(session.created_at) }}\n                    </span>\n                    <p class="d-flex flex-row align-items-center gap-1">\n                        <span class="fs-4 m-0 fw-bold">\n                            {{ session.name }}\n                        </span>\n                        <span> &bull; </span>\n                        <span v-if="session.end !== null && session.start !== null" class="badge h6 m-0 p-1 bg-success">\n                            Completed\n                        </span>\n                        <span v-else class="badge h6 m-0 p-1 bg-danger"> pending </span>\n                    </p>\n                    <div>\n                        <span class="d-block">\n                            <i class="fa-duotone fa-circle-play"></i>\n                            <span> Checked In: </span>\n                            <span :class="[\n    session.attendance.start === null ? \'text-danger\' : \'\',\n]">\n                                {{\n        session.attendance.start === null\n            ? "Did not checkin"\n            : formatAttendance(session.attendance.start)\n}}\n                                <span v-if="session.attendance.start !== null" class="text-danger">\n                                    {{\n        formatLateness(\n            calculateLateness(\n                session.created_at,\n                session.attendance.start\n            )\n        )\n}}\n                                </span>\n                            </span>\n                        </span>\n                        <span class="d-block">\n                            <i class="fa-duotone fa-circle-stop"></i>\n                            <span> Checked Out: </span>\n                            <span :class="[session.attendance.end === null ? \'text-danger\' : \'\']">\n                                {{\n        session.attendance.end === null\n            ? session.end === null\n                ? "--"\n                : "Did not checkout"\n            : formatAttendance(session.attendance.end)\n}}\n                            </span>\n                        </span>\n                    </div>\n                </div>\n            </div>\n        </b-modal>\n        \x3c!-- Update Details or create user modal --\x3e\n        <b-modal id="user-modal" size="lg" scrollable centered hide-footer hide-header content-class="template-modal"\n            header-class="template-modal-header">\n            <div class="d-flex flex-row justify-content-end" style="position: sticky; top: 0; z-index: 20">\n                <vs-button danger icon circle @click="$bvModal.hide(\'user-modal\')">\n                    <i class="fa-duotone fa-times-circle h5 m-0"></i>\n                </vs-button>\n            </div>\n            <div class="mt-4">\n                <h3 class="font-monospace">\n                    {{ create ? \'Create User\' : \'Update Details\' }}\n                </h3>\n\n                <div v-if="create === false">\n                    <h5 class="fw-bold">Profile Picture</h5>\n                    <div class="mt-2">\n                        <b-avatar size="100" :src="`../../../../storage/profile/${createForm.profile}`"\n                            :alt="`${createForm.name}\'s profile picture`"></b-avatar>\n                    </div>\n                    <div class="my-3">\n                        <span class="p-2 h6 fw-bold">Update Profile Picture</span>\n                        <input type="file" @change="uploadProfilePicture" ref="profile" class="form-control border-0"\n                            style="border-radius: 10px;" />\n                    </div>\n                </div>\n                <form id="createUserForm" method="post" @submit.prevent.stop class="mt-4 d-flex flex-column gap-3">\n                    \x3c!--      Token        --\x3e\n                    <input hidden name="_token" :value="csrfToken" />\n                    <div v-if="create">\n                        <h5 class="fw-bold d-flex flex-row align-items-center">\n                            <i class="fa-duotone fa-user"></i>\n                            <span class="m-2">Profile Picture</span>\n                        </h5>\n                        <input type="file" ref="profile" class="form-control border-0" style="border-radius: 10px;" />\n                    </div>\n                    <div class="d-flex flex-wrap flex-row items-center gap-3">\n                        <div class="flex-grow-1">\n                            <h5 class="fw-bold d-flex flex-row align-items-center">\n                                <i class="fa-duotone fa-user-group-crown"></i>\n                                <span class="m-2">Title</span>\n                            </h5>\n                            <select @change="updateProfile" name="title" id="title" class="form-control border-0"\n                                v-model="createForm.title" style="border-radius: 10px">\n                                <option v-for="(title, index) in titles" :key="`${index}-titles`" :value="index">\n                                    {{ title }}\n                                </option>\n                            </select>\n                        </div>\n                        <div class="flex-grow-1">\n                            <h5 class="fw-bold d-flex flex-row align-items-center">\n                                <i class="fa-duotone fa-phone"></i>\n                                <span class="m-2">Type</span>\n                            </h5>\n                            <select @change="updateProfile" name="type" id="type" class="form-control border-0"\n                                v-model="createForm.type" style="border-radius: 10px">\n                                <option v-for="(item, i) in userTypes" :key="i" :value="i">\n                                    {{ item }}\n                                </option>\n                            </select>\n                        </div>\n                    </div>\n                    <div class="d-flex flex-wrap flex-row items-center gap-3">\n                        <div class="flex-grow-1">\n                            <h5 class="fw-bold d-flex flex-row align-items-center">\n                                <i class="fa-duotone fa-signature"></i>\n                                <span class="m-2">Name</span>\n                            </h5>\n                            <vs-input @change="updateProfile" type="text" class="text-capitalize" name="name"\n                                v-model="createForm.name"></vs-input>\n                        </div>\n                        <div class="flex-grow-1">\n                            <h5 class="fw-bold d-flex flex-row align-items-center">\n                                <i class="fa-duotone fa-at"></i>\n                                <span class="m-2">Email</span>\n                            </h5>\n                            <vs-input @change="updateProfile" type="email" name="email"\n                                v-model="createForm.email"></vs-input>\n                        </div>\n                    </div>\n                    <div class="d-flex flex-wrap flex-row items-center gap-3">\n                        <div class="flex-grow-1">\n                            <h5 class="fw-bold d-flex flex-row align-items-center">\n                                <i class="fa-duotone fa-location-dot"></i>\n                                <span class="m-2">From</span>\n                            </h5>\n                            <vs-input @change="updateProfile" type="text" name="from"\n                                v-model.lazy="createForm.from"></vs-input>\n                        </div>\n                        <div class="flex-grow-1">\n                            <h5 class="fw-bold d-flex flex-row align-items-center">\n                                <i class="fa-duotone fa-phone"></i>\n                                <span class="m-2">Phone Number</span>\n                            </h5>\n                            <vs-input @change="updateProfile" type="tel" name="phone_number"\n                                v-model.lazy="createForm.phone"></vs-input>\n                        </div>\n                    </div>\n                    <div class="d-flex flex-wrap flex-row items-center gap-3">\n                        <div class="flex-grow-1" style="max-width: 50%">\n                            <h5 class="fw-bold d-flex flex-row align-items-center">\n                                <i class="fa-duotone fa-timer"></i>\n                                <span class="m-2">Shift</span>\n                            </h5>\n                            <select type="text" @change="updateProfile" name="shift" class="form-control border-0"\n                                v-model="createForm.shift" style="border-radius: 10px">\n                                <option v-for="(shift, index) in allShifts.keyboardists" :value="shift.id" :key="index">\n                                    {{ shift.name }}\n                                </option>\n                            </select>\n                        </div>\n                        <div v-if="create === false" class="flex-grow-1 mt-5" style="max-width: 50%">\n                            <vs-switch @change="updateProfile" name="shift_leader"\n                                :disabled="shiftLeaderExists(createForm.type, createForm.shift)"\n                                v-model="createForm.shift_leader" dark>\n                                <span class="fs-6 fw-bold" :key="`${createForm.shift_leader}-shift-leader`">\n                                    <i class=\'fa-duotone\'\n                                        :class="[createForm.shift_leader ? \'fa-check\' : \'fa-times\']"></i>\n                                    Shift Leader\n                                </span>\n                            </vs-switch>\n                        </div>\n                    </div>\n                    <div v-if="create" class="d-flex flex-wrap flex-row items-center gap-3 mt-5">\n                        <vs-button @click="createUser" dark block style="max-width: 50%" class="mx-auto">\n                            <h5 class="m-0 fw-bold">\n                                <span> Create </span>\n                                <i class="fa-duotone fa-arrow-right"></i>\n                            </h5>\n                        </vs-button>\n                    </div>\n                </form>\n            </div>\n        </b-modal>\n    </div>\n</template>\n\n<script>\nimport { mapGetters } from "vuex";\nimport Search from "./Search.vue";\nconst SuccessClock = () =>\n    import(/* webpackChunkName: \'Success Banner\' */ "./SuccessClock.vue");\nconst ErrorClock = () =>\n    import(/* webpackChunkName: \'Error Banner\' */ "./ErrorClock.vue");\nexport default {\n    components: { Search },\n    data() {\n        return {\n            loading: true,\n            search: "",\n            data: [],\n            attendance: "",\n            attendanceUser: {},\n            create: true,\n            errors: false,\n            createForm: {\n                user_id: \'\',\n                name: \'\',\n                email: \'\',\n                profile: \'\',\n                from: \'\',\n                type: 2,\n                title: 0,\n                shift_leader: false,\n                shift: \'\',\n                phone: \'\',\n                loading: false\n            }\n        };\n    },\n    methods: {\n        shiftLeaderExists(type, shiftId) {\n            let shift = this.allShifts[[, \'keyboardists\', \'worship_leaders\', \'violinists\'][type]].find(shift => shift.id === shiftId);\n\n            if (shift) {\n                return shift.users_exists;\n            } else {\n                return true;\n            }\n        },\n        createUser() {\n            this.createForm.loading = true;\n\n            this.errors = false;\n\n            let { name, email, from, shift, phone } = this.createForm;\n\n            if (name === \'\' || from === \'\' || shift === \'\' || phone === \'\') {\n                this.errors = true;\n\n                this.createForm.loading = false;\n            } else {\n                //Get form\n                let form = document.querySelector(\'#createUserForm\');\n\n                let createForm = new FormData(form);\n\n                this.$store.dispatch(\'createUser\', createForm).then(async response => {\n                    // console.log(response)\n                    this.createForm.id = response.data.id;\n\n\n                    try {\n\n                        let file = this.$refs.profile.files[0];\n\n                        await this.uploadProfilePicture().then(res => {\n                            this.$vs.notification({\n                                content: SuccessClock,\n                                duration: 6000,\n                            });\n                        });\n                        this.createForm.loading = false;\n\n                        this.$bvModal.hide(\'add-user\');\n\n                    } catch (error) {\n                        return true;\n                    }\n\n                    // this.createForm = { name: \'\', email: \'\', from: \'\', shift: \'\', phone: \'\', loading: false };\n                });\n            }\n        },\n        updateProfile() {\n            if (this.create) {\n                return;\n            }\n            let form = document.querySelector(\'#createUserForm\');\n\n            let updateForm = new FormData(form);\n\n\n            let payload = {\n                id: this.createForm.user_id,\n                data: updateForm\n            };\n\n            this.$store.dispatch(\'updateProfile\', payload);\n\n        },\n        async uploadProfilePicture() {\n            let form = new FormData();\n            //Attach profile image\n            form.append(\'profile\', this.$refs.profile.files[0]);\n            form.append(\'user_id\', this.createForm.user_id);\n            return await this.$store.dispatch(\'updateProfilePicture\', form).then(response => {\n                this.createForm.profile = response;\n                this.$vs.notification({\n                    content: SuccessClock,\n                    duration: 4000,\n                });\n            });\n        },\n        editDetails(user) {\n            this.create = false;\n            this.createForm = {\n                user_id: user.id,\n                name: user.name,\n                email: user.email,\n                profile: user.profile,\n                from: user.from,\n                shift_leader: user.shift_leader,\n                type: user.type,\n                title: user.title ? user.title : 0,\n                shift: user.shift_id,\n                phone: user.phone_number,\n                loading: false\n            };\n            this.$bvModal.show("user-modal");\n        },\n        showAttendanceUser(userId) {\n            let user = this.allUsers.find((user) => user.id === userId);\n\n            user.shift = this.allShifts[\n                [, "keyboardists", "worship_leaders", "violinists"][user.type]\n            ].find((shift) => shift.id === user.shift_id);\n            user.sessions = user.shift[\n                [\n                    ,\n                    "sessions_keyboardists",\n                    "sessions_worship_leaders",\n                    "sessions_violinists",\n                ][user.type]\n            ].filter((session) => {\n                return (session.attendance = user.attendances.find(\n                    (attendance) => attendance.session_id === session.id\n                ));\n            });\n\n            this.attendanceUser = user;\n\n            this.$bvModal.show("attendance-modal");\n        },\n        hideAttendances() {\n            this.$bvModal.hide("attendance-modal");\n            this.attendance = "";\n            this.showAttendance = false;\n        },\n        formatTime(date) {\n            return new Date(Date.parse(date)).toLocaleString("en-GB", {\n                weekday: "long",\n                year: "numeric",\n                month: "long",\n                day: "numeric",\n                hour: "numeric",\n                minute: "numeric",\n            });\n        },\n        formatAttendance(date) {\n            return new Date(Date.parse(date)).toLocaleString("en-GB", {\n                hour: "numeric",\n                minute: "numeric",\n            });\n        },\n        calculateLateness(sessionStart, date) {\n            let start = Date.parse(sessionStart);\n            let checkIn = Date.parse(date);\n\n            //30 min\n            return checkIn - start;\n        },\n        formatLateness(late) {\n            if (late > 1800000) {\n                let diff = late / 3600000;\n                if (diff > 1) {\n                    return `${Math.floor(diff)} hr(s) late`;\n                }\n                return `${diff * 10} mins late`;\n            }\n        },\n        showAction(user, clockIn = true) {\n            if (!this.ongoingIndex.includes(user.type)) {\n                return false;\n            }\n            if (this.ongoingShifts.keyboardists) {\n                if (user.shift_id !== this.ongoingShifts.keyboardists.id) {\n                    return false;\n                }\n                let attendance = user.attendances.find(\n                    (attendance) =>\n                        attendance.session_id ===\n                        this.ongoingShifts.keyboardists.ongoing_session_keyboardists\n                );\n                console.log(\'keyboardists\', user, attendance)\n                if (attendance) {\n                    if (attendance.start !== null && attendance.end !== null) {\n                        return false;\n                    }\n                }\n            }\n\n            if (this.ongoingShifts.violinists) {\n                if (user.shift_id !== this.ongoingShifts.violinists.id) {\n                    return false;\n                }\n                let attendance = user.attendances.find(\n                    (attendance) =>\n                        attendance.session_id ===\n                        this.ongoingShifts.violinists.ongoing_session_violinists\n                );\n                console.log(\'keyboardists\', user, attendance)\n                if (attendance.start !== null && attendance.end !== null) {\n                    return false;\n                }\n            }\n\n            if (this.ongoingShifts.worship_leaders) {\n                if (user.shift_id !== this.ongoingShifts.worship_leaders.id) {\n                    return false;\n                }\n                let attendance = user.attendances.find(\n                    (attendance) =>\n                        attendance.session_id ===\n                        this.ongoingShifts.worship_leaders.ongoing_session_worship_leaders\n                );\n                console.log(\'keyboardists\', user, attendance)\n                if (attendance.start !== null && attendance.end !== null) {\n                    return false;\n                }\n            }\n\n            if (clockIn) {\n                switch (user.type) {\n                    case 1:\n                        return !this.tobeCheckedOutKeyboardists.includes(user.id);\n                    case 2:\n                        return !this.tobeCheckedOutWorshipLeaders.includes(user.id);\n                    case 3:\n                        return !this.tobeCheckedOutViolinists.includes(user.id);\n                    default:\n                        break;\n                }\n            } else {\n                switch (user.type) {\n                    case 1:\n                        return this.tobeCheckedOutKeyboardists.includes(user.id);\n                    case 2:\n                        return this.tobeCheckedOutWorshipLeaders.includes(user.id);\n                    case 3:\n                        return this.tobeCheckedOutViolinists.includes(user.id);\n                    default:\n                        break;\n                }\n            }\n        },\n        async checkInUser(userId) {\n            await this.$store\n                .dispatch("checkIn", userId)\n                .then((checkInResponse) => {\n                    this.$vs.notification({\n                        content: SuccessClock,\n                        duration: 6000,\n                    });\n                })\n                .catch((checkInError) => {\n                    this.$vs.notification({\n                        content: ErrorClock,\n                        duration: 6000,\n                    });\n                });\n        },\n        async checkOutUser(userId) {\n            await this.$store\n                .dispatch("checkOut", userId)\n                .then((checkOutResponse) => {\n                    this.$vs.notification({\n                        content: SuccessClock,\n                        duration: 6000,\n                    });\n                })\n                .catch((checkOutError) => {\n                    this.$vs.notification({\n                        content: ErrorClock,\n                        duration: 6000,\n                    });\n                });\n            // const invites = this.$vs.notification({\n            //     content: ErrorClock,\n            //     duration: \'none\'\n            // });\n        },\n    },\n    computed: {\n        ...mapGetters([\n            "allUsers",\n            "allShifts",\n            "userTypes",\n            "ongoingShifts",\n            "latest",\n            "titles"\n        ]),\n        ongoingIndex() {\n            let index = [];\n\n            if (this.ongoingShifts.keyboardists) {\n                index.push(1);\n            } else if (this.ongoingShifts.worship_leaders) {\n                index.push(2);\n            } else if (this.ongoingShifts.violinists) {\n                index.push(3);\n            }\n            return index;\n        },\n        tobeCheckedOutKeyboardists() {\n            let clockedIn = [];\n            this.allUsers.forEach((user) => {\n                if (this.ongoingShifts.keyboardists) {\n                    if (\n                        user.type !== 1 ||\n                        user.shift_id !== this.ongoingShifts.keyboardists.id\n                    ) {\n                        return;\n                    }\n\n                    let attendance = user.attendances.find(\n                        (attendance) =>\n                            attendance.session_id ===\n                            this.ongoingShifts.keyboardists.ongoing_session_keyboardists\n                    );\n\n                    if (attendance !== undefined) {\n                        if (attendance.start !== null && attendance.end == null) {\n                            clockedIn.push(user.id);\n                        }\n                    }\n                }\n            });\n            return clockedIn;\n        },\n        tobeCheckedOutWorshipLeaders() {\n            let clockedIn = [];\n            this.allUsers.forEach((user) => {\n                if (this.ongoingShifts.worship_leaders) {\n                    if (\n                        user.type !== 1 ||\n                        user.shift_id !== this.ongoingShifts.worship_leaders.id\n                    ) {\n                        return;\n                    }\n\n                    let attendance = user.attendances.find(\n                        (attendance) =>\n                            attendance.session_id ===\n                            this.ongoingShifts.worship_leaders.ongoing_session_worship_leaders\n                    );\n\n                    if (attendance !== undefined) {\n                        if (attendance.start !== null && attendance.end == null) {\n                            clockedIn.push(user.id);\n                        }\n                    }\n                }\n            });\n            return clockedIn;\n        },\n        tobeCheckedOutViolinists() {\n            let clockedIn = [];\n            this.allUsers.forEach((user) => {\n                if (this.ongoingShifts.violinists) {\n                    if (\n                        user.type !== 1 ||\n                        user.shift_id !== this.ongoingShifts.violinists.id\n                    ) {\n                        return;\n                    }\n\n                    let attendance = user.attendances.find(\n                        (attendance) =>\n                            attendance.session_id ===\n                            this.ongoingShifts.violinists.ongoing_session_violinists\n                    );\n\n                    if (attendance !== undefined) {\n                        if (attendance.start !== null && attendance.end == null) {\n                            clockedIn.push(user.id);\n                        }\n                    }\n                }\n            });\n            return clockedIn;\n        },\n    },\n    async mounted() {\n        await this.$store.dispatch("getShifts");\n\n        let query = this.$route.query.type;\n\n        if (query) {\n            await this.$store.dispatch("getUsers", query);\n        } else {\n            await this.$store.dispatch("getUsers");\n        }\n\n        this.$root.$on(\'bv::modal::hide\', (bvEvent, modalId) => {\n            // console.log(\'Modal is about to be shown\', bvEvent, modalId)\n            if (modalId === \'user-modal\') {\n                this.createForm = {\n                    user_id: \'\',\n                    name: \'\',\n                    email: \'\',\n                    profile: \'\',\n                    from: \'\',\n                    type: 2,\n                    title: 0,\n                    shift: \'\',\n                    phone: \'\',\n                    loading: false\n                };\n            }\n        });\n        this.loading = false;\n    },\n    async beforeRouteUpdate(to, from, next) {\n        this.loading = true;\n        let query = to.query.type;\n\n        if (query) {\n            await this.$store.dispatch("getUsers", query);\n        } else {\n            await this.$store.dispatch("getUsers");\n        }\n        next();\n        this.loading = false;\n    },\n};\n<\/script>\n\n<style>\n.match-cards {\n    display: grid;\n    gap: 40px;\n    grid-auto-flow: dense;\n    grid-auto-rows: minmax(min-content, max-content);\n    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n    line-break: strict;\n    transition: all 0.5s;\n    padding: 1rem;\n    width: 100% !important;\n}\n\n.vs-card-content {\n    width: fit-content !important;\n    margin: 0 auto !important;\n}\n\n.vs-input {\n    width: 100%;\n}\n\n.template-modal {\n    border-radius: 15px;\n}\n\n.template-modal-header {\n    border: none;\n}\n\n.list-move,\n.list-enter-active,\n.list-leave-active {\n    transition: all 0.5s ease;\n}\n\n.list-enter-from,\n.list-leave-to {\n    opacity: 0;\n    transform: translateX(30px);\n}\n\n.list-leave-active {\n    position: absolute;\n}\n\n.vs-notification {\n    height: fit-content !important;\n}\n</style>\n'],sourceRoot:""}]);const o=r},6955:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var s=n(629);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function r(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!==a(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const o={data:function(){return{search:"",filters:{checkedIn:!1,shiftA:!0,shiftB:!0},loading:!1}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(0,s.Se)(["allShifts"])),mounted:function(){var e=this;this.$store.subscribe((function(t,n){if("setUsers"===t.type){var s=localStorage.getItem("filters");s&&(e.filters=JSON.parse(s));var a=localStorage.getItem("search");a&&(e.search=a)}}))},methods:{searchUsers:function(){this.loading=!0,localStorage.setItem("search",this.search),this.$store.commit("searchUsers",this.search),0===this.search.length&&(localStorage.removeItem("search"),this.$store.commit("resetSearch")),this.loading=!1}},watch:{filters:{handler:function(e){localStorage.setItem("filters",JSON.stringify(e)),this.$store.commit("filter",e)},deep:!0}}};var l=n(1900);const c=(0,l.Z)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"p-2"},[t("div",{staticClass:"d-flex flex-row items-center p-2 mb-1 gap-2"},[t("vs-switch",{attrs:{dark:""},model:{value:e.filters.checkedIn,callback:function(t){e.$set(e.filters,"checkedIn",t)},expression:"filters.checkedIn"}},[t("span",{key:"".concat(e.filters.checkedIn,"-checked-in"),staticClass:"fs-6 fw-bold"},[t("i",{staticClass:"fa-duotone",class:[e.filters.checkedIn?"fa-check":"fa-times"]}),e._v("\n                "+e._s(e.filters.checkedIn?"Checked In":"All")+"\n            ")])]),e._v(" "),t("vs-switch",{attrs:{dark:""},model:{value:e.filters.shiftA,callback:function(t){e.$set(e.filters,"shiftA",t)},expression:"filters.shiftA"}},[t("span",{key:"".concat(e.filters.shiftA,"-shift-a"),staticClass:"fs-6 fw-bold"},[t("i",{staticClass:"fa-duotone",class:[e.filters.shiftA?"fa-check":"fa-times"]}),e._v("\n                Shift A\n            ")])]),e._v(" "),t("vs-switch",{attrs:{dark:""},model:{value:e.filters.shiftB,callback:function(t){e.$set(e.filters,"shiftB",t)},expression:"filters.shiftB"}},[t("span",{key:"".concat(e.filters.shiftB,"-shift-b"),staticClass:"fs-6 fw-bold"},[t("i",{staticClass:"fa-duotone",class:[e.filters.shiftB?"fa-check":"fa-times"]}),e._v("\n                Shift B\n            ")])])],1),e._v(" "),t("div",{staticClass:"d-flex flex-row align-items-center gap-1"},[t("vs-input",{staticClass:"w-100",staticStyle:{"max-width":"430px"},attrs:{type:"search",placeholder:"search using name or user number",loading:e.loading},on:{change:e.searchUsers},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._v(" "),t("vs-button",{attrs:{icon:"",circle:"",dark:""}},[t("i",{staticClass:"fa-duotone fa-magnifying-glass"})])],1)])}),[],!1,null,null,null).exports;function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!==d(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(){h=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",r=a.asyncIterator||"@@asyncIterator",o=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,a){var i=t&&t.prototype instanceof p?t:p,r=Object.create(i.prototype),o=new U(a||[]);return s(r,"_invoke",{value:k(e,n,o)}),r}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var u={};function p(){}function m(){}function v(){}var g={};l(g,i,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y($([])));b&&b!==t&&n.call(b,i)&&(g=b);var _=v.prototype=p.prototype=Object.create(g);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function a(s,i,r,o){var l=f(e[s],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==d(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){a("next",e,r,o)}),(function(e){a("throw",e,r,o)})):t.resolve(u).then((function(e){c.value=e,r(c)}),(function(e){return a("throw",e,r,o)}))}o(l.arg)}var i;s(this,"_invoke",{value:function(e,n){function s(){return new t((function(t,s){a(e,n,t,s)}))}return i=i?i.then(s,s):s()}})}function k(e,t,n){var s="suspendedStart";return function(a,i){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===a)throw i;return F()}for(n.method=a,n.arg=i;;){var r=n.delegate;if(r){var o=C(r,n);if(o){if(o===u)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===s)throw s="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);s="executing";var l=f(e,t,n);if("normal"===l.type){if(s=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(s="completed",n.method="throw",n.arg=l.arg)}}}function C(e,t){var n=t.method,s=e.iterator[n];if(void 0===s)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),u;var a=f(s,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,u;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function U(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function $(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var s=-1,a=function t(){for(;++s<e.length;)if(n.call(e,s))return t.value=e[s],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:F}}function F(){return{value:void 0,done:!0}}return m.prototype=v,s(_,"constructor",{value:v,configurable:!0}),s(v,"constructor",{value:m,configurable:!0}),m.displayName=l(v,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,o,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},w(x.prototype),l(x.prototype,r,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,s,a,i){void 0===i&&(i=Promise);var r=new x(c(t,n,s,a),i);return e.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},w(_),l(_,o,"Generator"),l(_,i,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var s in t)n.push(s);return n.reverse(),function e(){for(;n.length;){var s=n.pop();if(s in t)return e.value=s,e.done=!1,e}return e.done=!0,e}},e.values=$,U.prototype={constructor:U,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function s(n,s){return r.type="throw",r.arg=e,t.next=n,s&&(t.method="next",t.arg=void 0),!!s}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],r=i.completion;if("root"===i.tryLoc)return s("end");if(i.tryLoc<=this.prev){var o=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(o&&l){if(this.prev<i.catchLoc)return s(i.catchLoc,!0);if(this.prev<i.finallyLoc)return s(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return s(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return s(i.finallyLoc)}}}},abrupt:function(e,t){for(var s=this.tryEntries.length-1;s>=0;--s){var a=this.tryEntries[s];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var s=n.completion;if("throw"===s.type){var a=s.arg;A(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:$(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function m(e,t,n,s,a,i,r){try{var o=e[i](r),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(s,a)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(s,a){var i=e.apply(t,n);function r(e){m(i,s,a,r,o,"next",e)}function o(e){m(i,s,a,r,o,"throw",e)}r(void 0)}))}}var g=function(){return n.e(108).then(n.bind(n,9448))},y=function(){return n.e(15).then(n.bind(n,4847))};const b={components:{Search:c},data:function(){return{loading:!0,search:"",data:[],attendance:"",attendanceUser:{},create:!0,errors:!1,createForm:{user_id:"",name:"",email:"",profile:"",from:"",type:2,title:0,shift_leader:!1,shift:"",phone:"",loading:!1}}},methods:{shiftLeaderExists:function(e,t){var n=this.allShifts[[,"keyboardists","worship_leaders","violinists"][e]].find((function(e){return e.id===t}));return!n||n.users_exists},createUser:function(){var e=this;this.createForm.loading=!0,this.errors=!1;var t=this.createForm,n=t.name,s=(t.email,t.from),a=t.shift,i=t.phone;if(""===n||""===s||""===a||""===i)this.errors=!0,this.createForm.loading=!1;else{var r=document.querySelector("#createUserForm"),o=new FormData(r);this.$store.dispatch("createUser",o).then(function(){var t=v(h().mark((function t(n){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.createForm.id=n.data.id,t.prev=1,e.$refs.profile.files[0],t.next=5,e.uploadProfilePicture().then((function(t){e.$vs.notification({content:g,duration:6e3})}));case 5:e.createForm.loading=!1,e.$bvModal.hide("add-user"),t.next=12;break;case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",!0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}())}},updateProfile:function(){if(!this.create){var e=document.querySelector("#createUserForm"),t=new FormData(e),n={id:this.createForm.user_id,data:t};this.$store.dispatch("updateProfile",n)}},uploadProfilePicture:function(){var e=this;return v(h().mark((function t(){var n;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("profile",e.$refs.profile.files[0]),n.append("user_id",e.createForm.user_id),t.next=5,e.$store.dispatch("updateProfilePicture",n).then((function(t){e.createForm.profile=t,e.$vs.notification({content:g,duration:4e3})}));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()},editDetails:function(e){this.create=!1,this.createForm={user_id:e.id,name:e.name,email:e.email,profile:e.profile,from:e.from,shift_leader:e.shift_leader,type:e.type,title:e.title?e.title:0,shift:e.shift_id,phone:e.phone_number,loading:!1},this.$bvModal.show("user-modal")},showAttendanceUser:function(e){var t=this.allUsers.find((function(t){return t.id===e}));t.shift=this.allShifts[[,"keyboardists","worship_leaders","violinists"][t.type]].find((function(e){return e.id===t.shift_id})),t.sessions=t.shift[[,"sessions_keyboardists","sessions_worship_leaders","sessions_violinists"][t.type]].filter((function(e){return e.attendance=t.attendances.find((function(t){return t.session_id===e.id}))})),this.attendanceUser=t,this.$bvModal.show("attendance-modal")},hideAttendances:function(){this.$bvModal.hide("attendance-modal"),this.attendance="",this.showAttendance=!1},formatTime:function(e){return new Date(Date.parse(e)).toLocaleString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"})},formatAttendance:function(e){return new Date(Date.parse(e)).toLocaleString("en-GB",{hour:"numeric",minute:"numeric"})},calculateLateness:function(e,t){var n=Date.parse(e);return Date.parse(t)-n},formatLateness:function(e){if(e>18e5){var t=e/36e5;return t>1?"".concat(Math.floor(t)," hr(s) late"):"".concat(10*t," mins late")}},showAction:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.ongoingIndex.includes(e.type))return!1;if(this.ongoingShifts.keyboardists){if(e.shift_id!==this.ongoingShifts.keyboardists.id)return!1;var s=e.attendances.find((function(e){return e.session_id===t.ongoingShifts.keyboardists.ongoing_session_keyboardists}));if(console.log("keyboardists",e,s),s&&null!==s.start&&null!==s.end)return!1}if(this.ongoingShifts.violinists){if(e.shift_id!==this.ongoingShifts.violinists.id)return!1;var a=e.attendances.find((function(e){return e.session_id===t.ongoingShifts.violinists.ongoing_session_violinists}));if(console.log("keyboardists",e,a),null!==a.start&&null!==a.end)return!1}if(this.ongoingShifts.worship_leaders){if(e.shift_id!==this.ongoingShifts.worship_leaders.id)return!1;var i=e.attendances.find((function(e){return e.session_id===t.ongoingShifts.worship_leaders.ongoing_session_worship_leaders}));if(console.log("keyboardists",e,i),null!==i.start&&null!==i.end)return!1}if(n)switch(e.type){case 1:return!this.tobeCheckedOutKeyboardists.includes(e.id);case 2:return!this.tobeCheckedOutWorshipLeaders.includes(e.id);case 3:return!this.tobeCheckedOutViolinists.includes(e.id)}else switch(e.type){case 1:return this.tobeCheckedOutKeyboardists.includes(e.id);case 2:return this.tobeCheckedOutWorshipLeaders.includes(e.id);case 3:return this.tobeCheckedOutViolinists.includes(e.id)}},checkInUser:function(e){var t=this;return v(h().mark((function n(){return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("checkIn",e).then((function(e){t.$vs.notification({content:g,duration:6e3})})).catch((function(e){t.$vs.notification({content:y,duration:6e3})}));case 2:case"end":return n.stop()}}),n)})))()},checkOutUser:function(e){var t=this;return v(h().mark((function n(){return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("checkOut",e).then((function(e){t.$vs.notification({content:g,duration:6e3})})).catch((function(e){t.$vs.notification({content:y,duration:6e3})}));case 2:case"end":return n.stop()}}),n)})))()}},computed:u(u({},(0,s.Se)(["allUsers","allShifts","userTypes","ongoingShifts","latest","titles"])),{},{ongoingIndex:function(){var e=[];return this.ongoingShifts.keyboardists?e.push(1):this.ongoingShifts.worship_leaders?e.push(2):this.ongoingShifts.violinists&&e.push(3),e},tobeCheckedOutKeyboardists:function(){var e=this,t=[];return this.allUsers.forEach((function(n){if(e.ongoingShifts.keyboardists){if(1!==n.type||n.shift_id!==e.ongoingShifts.keyboardists.id)return;var s=n.attendances.find((function(t){return t.session_id===e.ongoingShifts.keyboardists.ongoing_session_keyboardists}));void 0!==s&&null!==s.start&&null==s.end&&t.push(n.id)}})),t},tobeCheckedOutWorshipLeaders:function(){var e=this,t=[];return this.allUsers.forEach((function(n){if(e.ongoingShifts.worship_leaders){if(1!==n.type||n.shift_id!==e.ongoingShifts.worship_leaders.id)return;var s=n.attendances.find((function(t){return t.session_id===e.ongoingShifts.worship_leaders.ongoing_session_worship_leaders}));void 0!==s&&null!==s.start&&null==s.end&&t.push(n.id)}})),t},tobeCheckedOutViolinists:function(){var e=this,t=[];return this.allUsers.forEach((function(n){if(e.ongoingShifts.violinists){if(1!==n.type||n.shift_id!==e.ongoingShifts.violinists.id)return;var s=n.attendances.find((function(t){return t.session_id===e.ongoingShifts.violinists.ongoing_session_violinists}));void 0!==s&&null!==s.start&&null==s.end&&t.push(n.id)}})),t}}),mounted:function(){var e=this;return v(h().mark((function t(){var n;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getShifts");case 2:if(!(n=e.$route.query.type)){t.next=8;break}return t.next=6,e.$store.dispatch("getUsers",n);case 6:t.next=10;break;case 8:return t.next=10,e.$store.dispatch("getUsers");case 10:e.$root.$on("bv::modal::hide",(function(t,n){"user-modal"===n&&(e.createForm={user_id:"",name:"",email:"",profile:"",from:"",type:2,title:0,shift:"",phone:"",loading:!1})})),e.loading=!1;case 12:case"end":return t.stop()}}),t)})))()},beforeRouteUpdate:function(e,t,n){var s=this;return v(h().mark((function t(){var a;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s.loading=!0,!(a=e.query.type)){t.next=7;break}return t.next=5,s.$store.dispatch("getUsers",a);case 5:t.next=9;break;case 7:return t.next=9,s.$store.dispatch("getUsers");case 9:n(),s.loading=!1;case 11:case"end":return t.stop()}}),t)})))()}};var _=n(3379),w=n.n(_),x=n(4704),k={insert:"head",singleton:!1};w()(x.Z,k);x.Z.locals;const C=(0,l.Z)(b,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"shadow-sm p-2 bg-white",staticStyle:{"border-radius":"15px",height:"fit-content !important"}},[e._m(0),e._v(" "),t("div",{staticClass:"d-flex flex-row justify-content-between mt-5"},[t("div",{staticClass:"d-flex flex-row gap-2"},[t("vs-button",{staticStyle:{"max-width":"fit-content"},attrs:{dark:"",flat:"",active:0===Object.keys(e.$route.query).length},on:{click:function(t){return e.$router.push({query:{}})}}},[t("h6",{staticClass:"fw-bold m-0"},[t("i",{staticClass:"fa-duotone fa-timer"}),e._v(" "),t("span",{staticClass:"p-1"},[e._v(" All ")])])]),e._v(" "),t("vs-button",{staticStyle:{"max-width":"fit-content"},attrs:{active:"keyboardists"===e.$route.query.type,dark:"",flat:""},on:{click:function(t){return e.$router.push({query:{type:"keyboardists"}})}}},[t("h6",{staticClass:"fw-bold m-0"},[t("i",{staticClass:"fa-duotone fa-piano-keyboard"}),e._v(" "),t("span",{staticClass:"p-1 d-none d-md-inline"},[e._v(" Keyboardists ")])])]),e._v(" "),t("vs-button",{staticStyle:{"max-width":"fit-content"},attrs:{active:"violinists"===e.$route.query.type,dark:"",flat:""},on:{click:function(t){return e.$router.push({query:{type:"violinists"}})}}},[t("h6",{staticClass:"fw-bold m-0"},[t("i",{staticClass:"fa-duotone fa-violin"}),e._v(" "),t("span",{staticClass:"p-1 d-none d-md-inline"},[e._v(" Violinists ")])])]),e._v(" "),t("vs-button",{staticStyle:{"max-width":"fit-content"},attrs:{active:"worship-leaders"===e.$route.query.type,dark:"",flat:""},on:{click:function(t){return e.$router.push({query:{type:"worship-leaders"}})}}},[t("h6",{staticClass:"fw-bold m-0"},[t("i",{staticClass:"fa-duotone fa-microphone-stand"}),e._v(" "),t("span",{staticClass:"p-1 d-none d-md-inline"},[e._v(" Worship Leaders ")])])])],1),e._v(" "),t("div",[t("vs-button",{staticStyle:{"max-width":"fit-content"},attrs:{warn:"",flat:""},on:{click:function(t){return e.$bvModal.show("user-modal")}}},[t("h6",{staticClass:"fw-bold m-0"},[t("i",{staticClass:"fa-duotone fa-person-circle-plus"}),e._v(" "),t("span",{staticClass:"p-1 d-none d-md-inline"},[e._v(" Create User ")])])])],1)]),e._v(" "),t("div",{staticClass:"my-4"},[t("search")],1),e._v(" "),e.loading?t("div",{staticClass:"d-flex flex-row justify-content-center align-items-center p-2 m-2"},[e._m(1)]):t("transition-group",{staticClass:"match-cards list-unstyled",attrs:{tag:"ul",name:"list"}},e._l(e.allUsers,(function(n){return t("li",{key:n.id},[t("vs-card",{scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"d-flex flex-row align-items-center gap-1"},[n.title>0?t("span",{staticClass:"badge bg-secondary p-1",staticStyle:{"font-size":"smaller"}},[e._v("\n                                "+e._s(e.titles[n.title])+"\n                            ")]):e._e(),e._v(" "),n.shift_leader?t("span",{staticClass:"badge bg-dark p-1",staticStyle:{"font-size":"smaller"}},[e._v("\n                                Shift Leader\n                            ")]):e._e(),e._v(" "),0===n.type?t("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"d-flex flex-row align-items-center gap-1",attrs:{title:"Data Analyst"}},[t("span",[e._v("  ")]),e._v(" "),t("i",{staticClass:"fa-duotone fa-face-glasses h5 m-0"})]):1===n.type?t("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"d-flex flex-row align-items-center gap-1",attrs:{title:"Keyboardist"}},[t("span",[e._v("  ")]),e._v(" "),t("i",{staticClass:"fa-duotone fa-piano-keyboard h5 m-0"})]):2===n.type?t("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"d-flex flex-row align-items-center gap-1",attrs:{title:"Worship Leader"}},[t("span",[e._v("  ")]),e._v(" "),t("i",{staticClass:"fa-duotone fa-microphone-stand h5 m-0"})]):3===n.type?t("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"d-flex flex-row align-items-center gap-1",attrs:{title:"Violinists"}},[t("span",[e._v("  ")]),e._v(" "),t("i",{staticClass:"fa-duotone fa-violin h5 m-0"})]):e._e()]),e._v(" "),t("h3",{staticClass:"mt-2"},[e._v("\n                            "+e._s(n.name)+"\n                        ")])]},proxy:!0},{key:"img",fn:function(){return[n.profile.includes("default.png")?t("b-img",{attrs:{src:"https://avatars.dicebear.com/api/identicon/".concat(n.name.split(" ")[0],".svg"),alt:"".concat(n.name,"'s profile picture")}}):t("b-img",{attrs:{src:"../../../../storage/profile/".concat(n.profile),alt:"".concat(n.profile," profile picture")}})]},proxy:!0},{key:"text",fn:function(){return[t("p",[t("span",[e._v(e._s(n.from))]),e._v(" "),t("span",[e._v(" ")]),e._v(" "),t("span",[e._v(e._s(n.phone_number))]),e._v(" "),t("span",[e._v(" ")]),e._v(" "),t("span",[e._v(e._s(e.allShifts.keyboardists.find((function(e){return e.id===n.shift_id})).name))])]),e._v(" "),e.ongoingShifts.keyboardists||e.ongoingShifts.worship_leaders||e.ongoingShifts.violinists?t("div",{staticClass:"mt-3"},[e.showAction(n,!1)?t("vs-button",{attrs:{dark:"",icon:""},on:{click:function(t){return e.checkOutUser(n.id)}}},[t("h5",{staticClass:"m-0 d-flex flex-row justify-content-center gap-2"},[t("i",{staticClass:"fa-duotone fa-lightbulb-cfl text-warning fa-shake"}),e._v(" "),t("span",{staticClass:"h6 m-0"},[e._v(" Check Out ")])])]):e._e(),e._v(" "),e.showAction(n)?t("vs-button",{attrs:{dark:"",icon:""},on:{click:function(t){return e.checkInUser(n.id)}}},[t("h5",{staticClass:"m-0 d-flex flex-row justify-content-center gap-2"},[t("i",{staticClass:"fa-duotone fa-lightbulb-cfl-on text-warning fa-fade"}),e._v(" "),t("span",{staticClass:"h6 m-0"},[e._v(" Check In ")])])]):e._e()],1):e._e()]},proxy:!0},{key:"interactions",fn:function(){return[t("vs-button",{attrs:{danger:"",icon:""},on:{click:function(t){return e.editDetails(n)}}},[t("i",{staticClass:"fa-duotone fa-pen h5 m-0"})]),e._v(" "),0!==n.type?t("vs-button",{attrs:{danger:"",icon:""},on:{click:function(t){return e.showAttendanceUser(n.id)}}},[t("i",{staticClass:"fa-duotone fa-eye h5 m-0"})]):e._e()]},proxy:!0}],null,!0)})],1)})),0),e._v(" "),0===e.allUsers.length?t("div",{staticClass:"p-2 m-1 rounded-3 bg-light"},[e._m(2)]):e._e(),e._v(" "),t("b-modal",{attrs:{id:"attendance-modal",size:"lg",scrollable:"",centered:"","hide-footer":"","hide-header":"","content-class":"template-modal","header-class":"template-modal-header"}},[t("div",{staticClass:"d-flex flex-row justify-content-end",staticStyle:{position:"sticky",top:"0","z-index":"20"}},[t("vs-button",{attrs:{danger:"",icon:"",circle:""},on:{click:function(t){return e.hideAttendances()}}},[t("i",{staticClass:"fa-duotone fa-times-circle h5 m-0"})])],1),e._v(" "),Object.keys(e.attendanceUser).length>0?t("div",[t("div",[e.attendanceUser.profile.includes("default.png")?t("b-avatar",{attrs:{size:"100",src:"https://avatars.dicebear.com/api/identicon/".concat(e.attendanceUser.name.split(" ")[0],".svg"),alt:"".concat(e.attendanceUser.name,"'s profile picture")}}):t("b-avatar",{attrs:{size:"100",src:"../../../../storage/profile/".concat(e.attendanceUser.profile),alt:"".concat(e.attendanceUser.profile," profile picture")}}),e._v(" "),t("p",{staticClass:"mt-2 mb-0 d-flex flex-row gap-1 align-items-center"},[e.attendanceUser.title>0?t("span",{staticClass:"badge bg-secondary p-1",staticStyle:{"font-size":"smaller"}},[e._v("\n                            "+e._s(e.titles[e.attendanceUser.title])+"\n                        ")]):e._e(),e._v(" "),e.attendanceUser.shift_leader?t("span",{staticClass:"badge bg-dark p-1",staticStyle:{"font-size":"smaller"}},[e._v("\n                            Shift Leader\n                        ")]):e._e(),e._v(" "),0===e.attendanceUser.type?t("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"d-flex flex-row align-items-center gap-1",attrs:{title:"Data Analyst"}},[t("span",[e._v("  ")]),e._v(" "),t("i",{staticClass:"fa-duotone fa-face-glasses h5 m-0"})]):1===e.attendanceUser.type?t("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"d-flex flex-row align-items-center gap-1",attrs:{title:"Keyboardist"}},[t("span",[e._v("  ")]),e._v(" "),t("i",{staticClass:"fa-duotone fa-piano-keyboard h5 m-0"})]):2===e.attendanceUser.type?t("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"d-flex flex-row align-items-center gap-1",attrs:{title:"Worship Leader"}},[t("span",[e._v("  ")]),e._v(" "),t("i",{staticClass:"fa-duotone fa-microphone-stand h5 m-0"})]):3===e.attendanceUser.type?t("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"d-flex flex-row align-items-center gap-1",attrs:{title:"Violinists"}},[t("span",[e._v("  ")]),e._v(" "),t("i",{staticClass:"fa-duotone fa-violin h5 m-0"})]):e._e()]),e._v(" "),t("span",{staticClass:"h3 m-0 mt-2 fw-bold d-block"},[e._v("\n                        "+e._s(e.attendanceUser.name)+"\n                    ")]),e._v(" "),t("p",[t("span",[e._v(e._s(e.attendanceUser.from))]),e._v(" "),t("span",[e._v(" ")]),e._v(" "),t("span",[e._v(e._s(e.attendanceUser.phone_number))])]),e._v(" "),t("hr"),e._v(" "),t("p",{staticClass:"h5 fw-bold text-muted"},[t("i",{staticClass:"fa-duotone fa-clock-rotate-left"}),e._v("\n                        Attendance History\n                    ")])],1),e._v(" "),0===e.attendanceUser.sessions.length?t("div",[e._v("\n                    This shift has had no sessions yet\n                ")]):e._e(),e._v(" "),e._l(e.attendanceUser.sessions,(function(n){return t("div",{key:n.id,staticClass:"rounded-3 bg-light p-2 my-2"},[t("span",[e._v("\n                        "+e._s(e.formatTime(n.created_at))+"\n                    ")]),e._v(" "),t("p",{staticClass:"d-flex flex-row align-items-center gap-1"},[t("span",{staticClass:"fs-4 m-0 fw-bold"},[e._v("\n                            "+e._s(n.name)+"\n                        ")]),e._v(" "),t("span",[e._v("  ")]),e._v(" "),null!==n.end&&null!==n.start?t("span",{staticClass:"badge h6 m-0 p-1 bg-success"},[e._v("\n                            Completed\n                        ")]):t("span",{staticClass:"badge h6 m-0 p-1 bg-danger"},[e._v(" pending ")])]),e._v(" "),t("div",[t("span",{staticClass:"d-block"},[t("i",{staticClass:"fa-duotone fa-circle-play"}),e._v(" "),t("span",[e._v(" Checked In: ")]),e._v(" "),t("span",{class:[null===n.attendance.start?"text-danger":""]},[e._v("\n                                "+e._s(null===n.attendance.start?"Did not checkin":e.formatAttendance(n.attendance.start))+"\n                                "),null!==n.attendance.start?t("span",{staticClass:"text-danger"},[e._v("\n                                    "+e._s(e.formatLateness(e.calculateLateness(n.created_at,n.attendance.start)))+"\n                                ")]):e._e()])]),e._v(" "),t("span",{staticClass:"d-block"},[t("i",{staticClass:"fa-duotone fa-circle-stop"}),e._v(" "),t("span",[e._v(" Checked Out: ")]),e._v(" "),t("span",{class:[null===n.attendance.end?"text-danger":""]},[e._v("\n                                "+e._s(null===n.attendance.end?null===n.end?"--":"Did not checkout":e.formatAttendance(n.attendance.end))+"\n                            ")])])])])}))],2):e._e()]),e._v(" "),t("b-modal",{attrs:{id:"user-modal",size:"lg",scrollable:"",centered:"","hide-footer":"","hide-header":"","content-class":"template-modal","header-class":"template-modal-header"}},[t("div",{staticClass:"d-flex flex-row justify-content-end",staticStyle:{position:"sticky",top:"0","z-index":"20"}},[t("vs-button",{attrs:{danger:"",icon:"",circle:""},on:{click:function(t){return e.$bvModal.hide("user-modal")}}},[t("i",{staticClass:"fa-duotone fa-times-circle h5 m-0"})])],1),e._v(" "),t("div",{staticClass:"mt-4"},[t("h3",{staticClass:"font-monospace"},[e._v("\n                    "+e._s(e.create?"Create User":"Update Details")+"\n                ")]),e._v(" "),!1===e.create?t("div",[t("h5",{staticClass:"fw-bold"},[e._v("Profile Picture")]),e._v(" "),t("div",{staticClass:"mt-2"},[t("b-avatar",{attrs:{size:"100",src:"../../../../storage/profile/".concat(e.createForm.profile),alt:"".concat(e.createForm.name,"'s profile picture")}})],1),e._v(" "),t("div",{staticClass:"my-3"},[t("span",{staticClass:"p-2 h6 fw-bold"},[e._v("Update Profile Picture")]),e._v(" "),t("input",{ref:"profile",staticClass:"form-control border-0",staticStyle:{"border-radius":"10px"},attrs:{type:"file"},on:{change:e.uploadProfilePicture}})])]):e._e(),e._v(" "),t("form",{staticClass:"mt-4 d-flex flex-column gap-3",attrs:{id:"createUserForm",method:"post"},on:{submit:function(e){e.preventDefault(),e.stopPropagation()}}},[t("input",{attrs:{hidden:"",name:"_token"},domProps:{value:e.csrfToken}}),e._v(" "),e.create?t("div",[t("h5",{staticClass:"fw-bold d-flex flex-row align-items-center"},[t("i",{staticClass:"fa-duotone fa-user"}),e._v(" "),t("span",{staticClass:"m-2"},[e._v("Profile Picture")])]),e._v(" "),t("input",{ref:"profile",staticClass:"form-control border-0",staticStyle:{"border-radius":"10px"},attrs:{type:"file"}})]):e._e(),e._v(" "),t("div",{staticClass:"d-flex flex-wrap flex-row items-center gap-3"},[t("div",{staticClass:"flex-grow-1"},[t("h5",{staticClass:"fw-bold d-flex flex-row align-items-center"},[t("i",{staticClass:"fa-duotone fa-user-group-crown"}),e._v(" "),t("span",{staticClass:"m-2"},[e._v("Title")])]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.createForm.title,expression:"createForm.title"}],staticClass:"form-control border-0",staticStyle:{"border-radius":"10px"},attrs:{name:"title",id:"title"},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.createForm,"title",t.target.multiple?n:n[0])},e.updateProfile]}},e._l(e.titles,(function(n,s){return t("option",{key:"".concat(s,"-titles"),domProps:{value:s}},[e._v("\n                                    "+e._s(n)+"\n                                ")])})),0)]),e._v(" "),t("div",{staticClass:"flex-grow-1"},[t("h5",{staticClass:"fw-bold d-flex flex-row align-items-center"},[t("i",{staticClass:"fa-duotone fa-phone"}),e._v(" "),t("span",{staticClass:"m-2"},[e._v("Type")])]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.createForm.type,expression:"createForm.type"}],staticClass:"form-control border-0",staticStyle:{"border-radius":"10px"},attrs:{name:"type",id:"type"},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.createForm,"type",t.target.multiple?n:n[0])},e.updateProfile]}},e._l(e.userTypes,(function(n,s){return t("option",{key:s,domProps:{value:s}},[e._v("\n                                    "+e._s(n)+"\n                                ")])})),0)])]),e._v(" "),t("div",{staticClass:"d-flex flex-wrap flex-row items-center gap-3"},[t("div",{staticClass:"flex-grow-1"},[t("h5",{staticClass:"fw-bold d-flex flex-row align-items-center"},[t("i",{staticClass:"fa-duotone fa-signature"}),e._v(" "),t("span",{staticClass:"m-2"},[e._v("Name")])]),e._v(" "),t("vs-input",{staticClass:"text-capitalize",attrs:{type:"text",name:"name"},on:{change:e.updateProfile},model:{value:e.createForm.name,callback:function(t){e.$set(e.createForm,"name",t)},expression:"createForm.name"}})],1),e._v(" "),t("div",{staticClass:"flex-grow-1"},[t("h5",{staticClass:"fw-bold d-flex flex-row align-items-center"},[t("i",{staticClass:"fa-duotone fa-at"}),e._v(" "),t("span",{staticClass:"m-2"},[e._v("Email")])]),e._v(" "),t("vs-input",{attrs:{type:"email",name:"email"},on:{change:e.updateProfile},model:{value:e.createForm.email,callback:function(t){e.$set(e.createForm,"email",t)},expression:"createForm.email"}})],1)]),e._v(" "),t("div",{staticClass:"d-flex flex-wrap flex-row items-center gap-3"},[t("div",{staticClass:"flex-grow-1"},[t("h5",{staticClass:"fw-bold d-flex flex-row align-items-center"},[t("i",{staticClass:"fa-duotone fa-location-dot"}),e._v(" "),t("span",{staticClass:"m-2"},[e._v("From")])]),e._v(" "),t("vs-input",{attrs:{type:"text",name:"from"},on:{change:e.updateProfile},model:{value:e.createForm.from,callback:function(t){e.$set(e.createForm,"from",t)},expression:"createForm.from"}})],1),e._v(" "),t("div",{staticClass:"flex-grow-1"},[t("h5",{staticClass:"fw-bold d-flex flex-row align-items-center"},[t("i",{staticClass:"fa-duotone fa-phone"}),e._v(" "),t("span",{staticClass:"m-2"},[e._v("Phone Number")])]),e._v(" "),t("vs-input",{attrs:{type:"tel",name:"phone_number"},on:{change:e.updateProfile},model:{value:e.createForm.phone,callback:function(t){e.$set(e.createForm,"phone",t)},expression:"createForm.phone"}})],1)]),e._v(" "),t("div",{staticClass:"d-flex flex-wrap flex-row items-center gap-3"},[t("div",{staticClass:"flex-grow-1",staticStyle:{"max-width":"50%"}},[t("h5",{staticClass:"fw-bold d-flex flex-row align-items-center"},[t("i",{staticClass:"fa-duotone fa-timer"}),e._v(" "),t("span",{staticClass:"m-2"},[e._v("Shift")])]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.createForm.shift,expression:"createForm.shift"}],staticClass:"form-control border-0",staticStyle:{"border-radius":"10px"},attrs:{type:"text",name:"shift"},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.createForm,"shift",t.target.multiple?n:n[0])},e.updateProfile]}},e._l(e.allShifts.keyboardists,(function(n,s){return t("option",{key:s,domProps:{value:n.id}},[e._v("\n                                    "+e._s(n.name)+"\n                                ")])})),0)]),e._v(" "),!1===e.create?t("div",{staticClass:"flex-grow-1 mt-5",staticStyle:{"max-width":"50%"}},[t("vs-switch",{attrs:{name:"shift_leader",disabled:e.shiftLeaderExists(e.createForm.type,e.createForm.shift),dark:""},on:{change:e.updateProfile},model:{value:e.createForm.shift_leader,callback:function(t){e.$set(e.createForm,"shift_leader",t)},expression:"createForm.shift_leader"}},[t("span",{key:"".concat(e.createForm.shift_leader,"-shift-leader"),staticClass:"fs-6 fw-bold"},[t("i",{staticClass:"fa-duotone",class:[e.createForm.shift_leader?"fa-check":"fa-times"]}),e._v("\n                                    Shift Leader\n                                ")])])],1):e._e()]),e._v(" "),e.create?t("div",{staticClass:"d-flex flex-wrap flex-row items-center gap-3 mt-5"},[t("vs-button",{staticClass:"mx-auto",staticStyle:{"max-width":"50%"},attrs:{dark:"",block:""},on:{click:e.createUser}},[t("h5",{staticClass:"m-0 fw-bold"},[t("span",[e._v(" Create ")]),e._v(" "),t("i",{staticClass:"fa-duotone fa-arrow-right"})])])],1):e._e()])])])],1)}),[function(){var e=this._self._c;return e("h4",[e("i",{staticClass:"fa-duotone fa-elephant"}),this._v("\n            Sheems Users\n        ")])},function(){var e=this._self._c;return e("div",{staticClass:"spinner-border spinner-border-sm",staticStyle:{height:"30px",width:"30px"},attrs:{role:"status"}},[e("span",{staticClass:"visually-hidden"},[this._v("Loading...")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex flex-row flex-wrap gap-1 align-items-center"},[t("span",[t("i",{staticClass:"fa-duotone fa-face-sad-tear fa-3x text-danger"})]),e._v(" "),t("span",{staticClass:"h5 m-0"},[e._v("\n                    We could not find any matches for your search.\n                ")])])}],!1,null,null,null).exports},1900:(e,t,n)=>{function s(e,t,n,s,a,i,r,o){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),s&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),r?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},c._ssrRegister=l):a&&(l=o?function(){a.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:a),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(e,t){return l.call(t),d(e,t)}}else{var f=c.beforeCreate;c.beforeCreate=f?[].concat(f,l):[l]}return{exports:e,options:c}}n.d(t,{Z:()=>s})}}]);
//# sourceMappingURL=UsersShow.js.map