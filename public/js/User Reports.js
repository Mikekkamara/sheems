"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[68],{1248:(t,e,n)=>{n.r(e),n.d(e,{default:()=>l});var s=n(629);function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var s=n.call(t,e||"default");if("object"!==r(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===r(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const c={props:{attendees:{type:Array,required:!0},absentees:{type:Array,required:!0},defaulters:{type:Array,required:!0}},data:function(){return{pagination:{page:1,max:15},search:"",loading:!0}},computed:a(a({},(0,s.Se)(["allUsers","allShifts","sessions"])),{},{users:function(){var t=this.$route.params.type;return"attendees"===t?this.attendees:"absentees"===t?this.absentees:this.defaulters}}),mounted:function(){var t=this;this.$nextTick((function(){t.loading=!1}))},methods:{formatDate:function(t){return null===t?" ----- ":new Date(Date.parse(t)).toLocaleDateString("en-US",{weekday:"long",day:"2-digit",month:"long",year:"numeric",hour12:!0,hour:"2-digit",minute:"numeric"})}}};const l=(0,n(1900).Z)(c,(function(){var t=this,e=t._self._c;return e("div",[t.loading?e("div",{staticClass:"d-flex flex-row align-items-center justify-content-center p-4"},[t._m(0)]):e("div",[0===t.allUsers.length?e("div",{staticClass:"p-3 m-2"},[t._v("\n            No users yet\n        ")]):e("div",[e("h6",[t._v("\n                Click on a user to view attendance history\n            ")]),t._v(" "),e("vs-table",{key:t.users.length,scopedSlots:t._u([{key:"header",fn:function(){return[e("vs-input",{attrs:{block:"",border:"",danger:"",placeholder:"Search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})]},proxy:!0},{key:"thead",fn:function(){return[e("vs-tr",{staticClass:"text-capitalize"},[e("vs-th",[e("h6",{staticClass:"m-0 mx-auto fw-bold"},[t._v("Avatar")])]),t._v(" "),e("vs-th",[e("h6",{staticClass:"m-0 mx-auto fw-bold"},[t._v("Name")])]),t._v(" "),e("vs-th",[e("h6",{staticClass:"m-0 mx-auto fw-bold"},[t._v("From")])]),t._v(" "),e("vs-th",[e("h6",{staticClass:"m-0 mx-auto fw-bold"},[t._v("Phone Number")])]),t._v(" "),e("vs-th",{attrs:{sort:""},on:{click:function(e){t.users=t.$vs.sortData(e,t.users,"shift_id")}}},[e("h6",{staticClass:"m-0 mx-auto fw-bold"},[t._v("Shift")])])],1)]},proxy:!0},{key:"tbody",fn:function(){return t._l(t.$vs.getPage(t.$vs.getSearch(t.users,t.search),t.pagination.page,t.pagination.max),(function(n,s){return e("vs-tr",{key:s,scopedSlots:t._u([{key:"expand",fn:function(){return[e("div",{staticClass:"container py-3 bg-light shadow border rounded-3"},[e("h6",{staticClass:"fw-bold"},[e("i",{staticClass:"fa-duotone fa-clock-rotate-left"}),t._v("\n                                    Attendance History\n                                ")]),t._v(" "),e("vs-table",{scopedSlots:t._u([{key:"thead",fn:function(){return[e("vs-th",[e("h6",{staticClass:"m-0 mx-auto fw-bold"},[t._v("#")])]),t._v(" "),e("vs-th",[e("h6",{staticClass:"m-0 mx-auto fw-bold"},[t._v("Session")])]),t._v(" "),e("vs-th",[e("h6",{staticClass:"m-0 mx-auto fw-bold"},[t._v("Clocked In")])]),t._v(" "),e("vs-th",[e("h6",{staticClass:"m-0 mx-auto fw-bold"},[t._v("Clocked Out")])])]},proxy:!0},{key:"tbody",fn:function(){return t._l(n.attendances,(function(n,s){return e("vs-tr",{key:s},[e("vs-td",[e("h6",{staticClass:"m-0 text-center"},[t._v("\n                                                    "+t._s(s+1)+"\n                                                ")])]),t._v(" "),e("vs-td",[e("h6",{staticClass:"m-0 text-center"},[t._v("\n                                                    "+t._s(t.sessions.find((function(t){return t.id===n.session_id})).name)+"\n                                                ")])]),t._v(" "),e("vs-td",[e("h6",{staticClass:"m-0 text-center"},[t._v("\n                                                    "+t._s(t.formatDate(n.start))+"\n                                                ")])]),t._v(" "),e("vs-td",[e("h6",{staticClass:"m-0 text-center"},[t._v("\n                                                    "+t._s(t.formatDate(n.end))+"\n                                                ")])])],1)}))},proxy:!0}],null,!0)})],1)]},proxy:!0}],null,!0)},[e("vs-td",[e("b-avatar",{attrs:{src:"../../../../storage/profile/".concat(n.profile)}})],1),t._v(" "),e("vs-td",[e("h6",{staticClass:"m-0 text-center mx-auto",staticStyle:{width:"150px",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},[t._v("\n                                "+t._s(n.name)+"\n                            ")])]),t._v(" "),e("vs-td",[e("h6",{staticClass:"m-0 text-center mx-auto",staticStyle:{width:"200px",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},[t._v("\n                                "+t._s(n.from)+"\n                            ")])]),t._v(" "),e("vs-td",[e("h6",{staticClass:"m-0 p-1 text-center mx-auto",staticStyle:{width:"250px",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},[t._v("\n                                "+t._s(n.phone_number)+"\n                            ")])]),t._v(" "),e("vs-td",[e("h6",{staticClass:"m-0 text-center mx-auto"},[t._v("\n                                "+t._s(t.allShifts.find((function(t){return t.id===n.shift_id})).name)+"\n                            ")])])],1)}))},proxy:!0},{key:"footer",fn:function(){return[e("vs-pagination",{attrs:{color:"dark",length:t.$vs.getLength(t.users,t.pagination.max)},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})]},proxy:!0}])})],1)])])}),[function(){var t=this._self._c;return t("div",{staticClass:"spinner-border spinner-border-sm",staticStyle:{height:"100px",width:"100px"},attrs:{role:"status"}},[t("span",{staticClass:"visually-hidden"},[this._v("Loading...")])])}],!1,null,null,null).exports},1900:(t,e,n)=>{function s(t,e,n,s,r,o,a,i){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),s&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),a?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},l._ssrRegister=c):r&&(c=i?function(){r.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:r),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:l}}n.d(e,{Z:()=>s})}}]);
//# sourceMappingURL=User Reports.js.map